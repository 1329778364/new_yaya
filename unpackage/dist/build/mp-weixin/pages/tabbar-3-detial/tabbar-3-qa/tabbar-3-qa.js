(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar-3-detial/tabbar-3-qa/tabbar-3-qa"],{"0c6d":function(e,t,o){"use strict";o.r(t);var n=o("ef73"),a=o("4be8");for(var s in a)"default"!==s&&function(e){o.d(t,e,function(){return a[e]})}(s);o("b58d");var i,c=o("f0c5"),l=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);t["default"]=l.exports},"2e6f":function(e,t,o){},"4be8":function(e,t,o){"use strict";o.r(t);var n=o("e2c0"),a=o.n(n);for(var s in n)"default"!==s&&function(e){o.d(t,e,function(){return n[e]})}(s);t["default"]=a.a},"5d35":function(e,t,o){"use strict";var n=o("2e6f"),a=o.n(n);a.a},"5f2a":function(e,t,o){},"6a7a":function(e,t,o){"use strict";o.r(t);var n=o("8450");for(var a in n)"default"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);o("5d35");var s,i,c,l,r=o("f0c5"),u=Object(r["a"])(n["default"],s,i,!1,null,null,null,!1,c,l);t["default"]=u.exports},8450:function(e,t,o){"use strict";o.r(t);var n=o("f4b1"),a=o.n(n);for(var s in n)"default"!==s&&function(e){o.d(t,e,function(){return n[e]})}(s);t["default"]=a.a},b58d:function(e,t,o){"use strict";var n=o("5f2a"),a=o.n(n);a.a},d8a7:function(e,t,o){"use strict";(function(e){o("b7c0"),o("921b");n(o("66fd"));var t=n(o("0c6d"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},e2c0:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o("6a7a"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){return Promise.all([o.e("common/vendor"),o.e("components/schoolPicker/schoolPicker")]).then(o.bind(null,"3a5c"))},i={components:{schoolPicker:s},data:function(){return{modalErrTitle:"",modalErrContent:[],commonInfo:{taskType:"校园帮",taskHead:"",taskDetail:"",staticData:{},address:"地址用于为您匹配最近的服务",addressDetail:"具体的授课地点"},studentFindTeacherInfo:{grade:"",serviceWay:"",sex:"男",chargePerHour:"",TimesPerWeek:"",remarkDetail:""},chargeTotle:"",all_panel_list:[{id:"subject",name:"补习课程",open:!1,content:""}],systemProductData:{Upvotes:0,Comments:0,Views:0},weChatlogginInfo:{},allowRecommend:!1,submitSuccess:!1,showModal:!1,index_education:-1,index_serviceWay:-1,index_taskType:0,index_grade:-1,jiajiaoShow:!1,addressShow:!1,limitTimeShow:!1,studentShow:!1,sexShow:!1,sexSwitch:!0,chargePerHourShow:!1,chargeShow:!0,submitErrModal:!1,pubSuccess:!1,taskTypePicker:["校园帮","家教培训","考研学长帮","就业考试咨询"],educationPicker:["教授","副教授","博士后","博士","硕士","本科","大专","高中","初中","小学","其他"],serviceWayPicker:["上门指导","在线授课","学生上门","自定义"],gradePicker:["幼儿园","小学","初一","初二","初三","高一","高二","高三","大学","其他"],subject:[{value:"语文",checked:!1},{value:"数学",checked:!0},{value:"英语",checked:!1},{value:"化学",checked:!1},{value:"物理",checked:!1},{value:"生物",checked:!1},{value:"历史",checked:!1},{value:"地理",checked:!1},{value:"政治",checked:!1}]}},onLoad:function(){this.setData({weChatlogginInfo:n.default.globalData.userInfo})},onShow:function(){this.all_panel_list[0].content=this.subject,this.limitTimeShow=!0,this.addressShow=!0},methods:{hideSubmitErrModal:function(t){"confirmModal"==t.currentTarget.id&"您还没有注册"==this.modalErrTitle&&e.navigateTo({url:"../../tableList/studentRegister/studentRegister?registerType="+this.commonInfo.taskType}),console.log(t),this.submitErrModal=!1},hidePubSuccessModal:function(t){console.log(t),"cancelModal"==t.currentTarget.id?(console.log("点击取消"),e.navigateBack({delta:10})):"confirmModal"==t.currentTarget.id&&(this.pubSuccess=!1)},submitAllInformation:function(e){if(n.default.globalData.stuRegister){if(this.checkCommonInfo(),"家教培训"==this.commonInfo.taskType&&this.checkStudentFindTeacherInfo(),!this.submitErrModal){if("校园帮"==this.commonInfo.taskType){var t=Object.assign({},this.commonInfo,{chargeTotle:this.chargeTotle},this.systemProductData,{userInfo:this.weChatlogginInfo});this.postDataToServe("xiaoyuanbang",t)}else if("家教培训"==this.commonInfo.taskType){var o=Object.assign({},this.commonInfo,this.studentFindTeacherInfo,this.systemProductData,{subjectContenmt:this.all_panel_list[0]["content"]},{userInfo:this.weChatlogginInfo});this.postDataToServe("jiajiaopeixun",o)}else if("考研学长帮"==this.commonInfo.taskType){var a=Object.assign({},this.commonInfo,{chargeTotle:this.chargeTotle},this.systemProductData,{userInfo:this.weChatlogginInfo});this.postDataToServe("kaoyanxuezhangbang",a)}else if("就业考试咨询"==this.commonInfo.taskType){var s=Object.assign({},this.commonInfo,{chargeTotle:this.chargeTotle},this.systemProductData,{userInfo:this.weChatlogginInfo});this.postDataToServe("jiuyekaoshizixun",s)}this.pubSuccess=!0}}else this.modalErrTitle="您还没有注册",this.modalErrContent="为确保安全，请您点击确认进行注册",this.submitErrModal=!0},postDataToServe:function(e,t){var o=wx.cloud.database().collection(e);o.add({data:t,success:this.handleSubmmitSucc.bind(this)})},handleSubmmitSucc:function(e){console.log("发送数据成功",e),this.setData({submitSuccess:!0})},checkCommonInfo:function(){if(""==this.commonInfo.taskHead||""==this.commonInfo.taskDetail||"校园帮"==this.commonInfo.taskType&&""==this.chargeTotle)return this.modalErrTitle="信息填写不完整",this.modalErrContent="请按要求填写完整信息。",void(this.submitErrModal=!0);this.submitErrModal=!1},checkStudentFindTeacherInfo:function(){var e=this.studentFindTeacherInfo;for(var t in console.log(e),e)console.log(e[t]),""==e[t]?(this.modalErrTitle="信息填写不完整",this.modalErrContent="请按要求填写完整信息。",this.submitErrModal=!0):this.submitErrModal=!1},inputTimesPerWeek:function(e){this.studentFindTeacherInfo.TimesPerWeek=e.detail.value,console.log("授课次数 ",this.studentFindTeacherInfo.TimesPerWeek)},inputChargeTotal:function(e){this.chargeTotle=e.detail.value,console.log("总酬金 ",this.chargeTotle)},inputChargePerHour:function(e){this.studentFindTeacherInfo.chargePerHour=e.detail.value,console.log("酬金每小时 ",this.studentFindTeacherInfo.chargePerHour)},sexSwitchChange:function(e){this.sexSwitch=e.detail.value,console.log("是男是女 ",e),this.sexSwitch?this.studentFindTeacherInfo.sex="男":this.studentFindTeacherInfo.sex="女"},selectGrade:function(e){this.index_grade=e.detail.value,this.studentFindTeacherInfo.grade=this.gradePicker[this.index_grade]},selectTaskType:function(e){this.index_taskType=e.detail.value,this.commonInfo.taskType=this.taskTypePicker[this.index_taskType],"家教培训"==this.commonInfo.taskType?(this.jiajiaoShow=!0,this.addressShow=!0,this.chargePerHourShow=!0,this.sexShow=!0,this.limitTimeShow=!1,this.chargeShow=!1):"校园帮"==this.commonInfo.taskType?(this.jiajiaoShow=!1,this.addressShow=!0,this.chargePerHourShow=!1,this.sexShow=!1,this.limitTimeShow=!0,this.chargeShow=!0):(this.jiajiaoShow=!1,this.addressShow=!1,this.chargePerHourShow=!1,this.sexShow=!1,this.limitTimeShow=!1,this.chargeShow=!0)},selectServiceWay:function(e){console.log("授课方式",e),this.index_serviceWay=e.detail.value,this.studentFindTeacherInfo.serviceWay=this.serviceWayPicker[this.index_serviceWay]},clickSubject:function(e,t){console.log("选择类型 和 序号",e,t),0==this.all_panel_list[e].content[t].checked?this.all_panel_list[e].content[t].checked=!0:this.all_panel_list[e].content[t].checked=!1,console.log("标签当前状态",this.all_panel_list[e].content[t].checked)},chooseAddress:function(e){console.log("选择地址。。。"),wx.chooseLocation({success:this.handleChooseAddressSucc.bind(this)})},handleChooseAddressSucc:function(e){console.log("地址",e),this.commonInfo.address=e.address,Object.assign(this.commonInfo.staticData,{latitude:e.latitude,longitude:e.longitude})},inputPositionDetail:function(e){this.commonInfo.addressDetail=e.detail.value,console.log("具体地点",this.commonInfo.addressDetail)},triggerCollapse:function(e){console.log("点击抽屉",e);for(var t=e.currentTarget.id,o=0;o<this.all_panel_list.length;++o)this.all_panel_list[o].open=o==t&&!this.all_panel_list[t].open},showSchoolPicker:function(){this.$refs.schoolPicker.show()},onConfirm:function(e){console.log("选择的结果label",e.label);var t=e.label.split("-")[2];console.log("源数据:".concat(JSON.stringify(e))),"暂未收录"!==t&&(this.provinceSchool=e.label,this.schoolData=t,console.log("学校:".concat(t)))},hideModal:function(e){this.allowRecommend=!0,console.log("同意推荐",this.allowRecommend),this.showModal=!1},textareaBInput:function(e){console.log(e),"remarkDetail"==e.currentTarget.id?(this.studentFindTeacherInfo.remarkDetail=e.detail.value,console.log("remarkDetail",this.remarkDetail)):"taskDetail"==e.currentTarget.id&&(this.commonInfo.taskDetail=e.detail.value)},commonInput:function(e){"taskHead"==e.currentTarget.id&&(this.commonInfo.taskHead=e.detail.value,console.log("标题",this.commonInfo.taskHead))},setData:function(e){var t,o,n=this,a=[];Object.keys(e).forEach(function(s){a=s.split("."),t=e[s],o=n.$data,a.forEach(function(e,s){s+1==a.length?n.$set(o,e,t):o[e]||n.$set(o,e,{}),o=o[e]})})}}};t.default=i}).call(this,o("543d")["default"])},ef73:function(e,t,o){"use strict";var n,a=function(){var e=this,t=e.$createElement;e._self._c},s=[];o.d(t,"b",function(){return a}),o.d(t,"c",function(){return s}),o.d(t,"a",function(){return n})},f4b1:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o("66fd"));function a(e){return e&&e.__esModule?e:{default:e}}var s={globalData:{windowHeight:0,windowWidth:0,isNewUser:!1,userInfo:"",hasUserInfo:!1,sessionCode:"",openid:"",appid:"",unionid:"",stuRegister:!1},onLaunch:function(){var t=this,o=wx.getStorageSync("logs")||[];o.unshift(Date.now()),wx.setStorageSync("logs",o),wx.login({success:function(e){console.log("登录时获取的信息 主要是sessionCode",e,t),t.globalData.sessionCode=e.code}}),wx.cloud.init({env:"wlq-1011"});wx.cloud.database().collection("userInfo");var a=wx.cloud.database().collection("studentRegister");wx.cloud.callFunction({name:"getopenid",success:function(e){console.log("获取用户openid信息成功。。",e),getApp().globalData.openid=e.result.openid,getApp().globalData.appid=e.result.appid}}),wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]&&wx.getUserInfo({success:function(e){t.globalData.userInfo=e.userInfo,t.globalData.hasUserInfo=!0,console.log("APP.vue中的获取用户信息",t.globalData.userInfo),t.userInfoReadyCallback&&t.userInfoReadyCallback(e)}})}}),setTimeout(function(){a.where({_openid:getApp().globalData.openid}).get({success:function(e){console.log(e.data.length),0==e.data.length?(getApp().globalData.stuRegister=!1,console.log("是一个新学生用户需要进行注册，目前状态",getApp().globalData.stuRegister)):(console.log("数据库中有该学生的用户信息",e),getApp().globalData.stuRegister=!0)}})},3e3);try{var s=e.getSystemInfoSync();this.globalData.windowHeight=s.windowHeight,this.globalData.windowWidth=s.windowWidth,console.log(s),console.log("onlaunch时得到的手机尺寸数据",this.globalData.windowHeight,this.globalData.windowWidth)}catch(i){console.log("无法获取手机信息")}e.getSystemInfo({success:function(e){n.default.prototype.StatusBar=e.statusBarHeight;var t=wx.getMenuButtonBoundingClientRect();n.default.prototype.Custom=t,n.default.prototype.CustomBar=t.bottom+t.top-e.statusBarHeight}})},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")}};t.default=s}).call(this,o("543d")["default"])}},[["d8a7","common/runtime","common/vendor"]]]);
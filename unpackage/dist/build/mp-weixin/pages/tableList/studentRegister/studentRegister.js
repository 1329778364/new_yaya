(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tableList/studentRegister/studentRegister"],{"0ff0":function(e,o,t){"use strict";var n=t("70b5"),i=t.n(n);i.a},"611d":function(e,o,t){"use strict";(function(e){t("b7c0"),t("921b");n(t("66fd"));var o=n(t("dd41"));function n(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,t("543d")["createPage"])},"63ba":function(e,o,t){"use strict";t.r(o);var n=t("7cc9"),i=t.n(n);for(var s in n)"default"!==s&&function(e){t.d(o,e,function(){return n[e]})}(s);o["default"]=i.a},"70b5":function(e,o,t){},"7cc9":function(e,o,t){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=function(){return Promise.all([t.e("common/vendor"),t.e("components/schoolPicker/schoolPicker")]).then(t.bind(null,"3a5c"))},i=(wx.cloud.database().collection("registerInfo"),{components:{schoolPicker:n},data:function(){return{registerType:"",commonRegisterInfo:{userName:",",idCard:"",imgList:[],phoneNumber:"",validateCode:""},studentRegisterInfo:{provinceSchool:"",schoolData:"",education:"",college:"",major:""},modalTitle:"",modalContent:"",hasBlank:!1,allowRecommend:!1,imgNum:4,showModal:!1,index_education:-1,submitErrModal:!1,schoolShow:"",errMessage:"根据判断进行报错提示",educationPicker:["教授","副教授","博士后","博士","硕士","本科","大专","高中","初中","小学","其他"]}},onLoad:function(e){console.log("跳转页面之后获取到的信息",e.registerType),this.registerType=e.registerType},onShow:function(){"校园帮"==this.registerType&&(this.imgNum=4,this.schoolShow=!0)},methods:{newUserRegister:function(){},submitAllInformation:function(e){console.log("点击最后的提交"),this.checkFormData()},checkFormData:function(){for(var e in this.hasBlank=!1,this.commonRegisterInfo)if(""==this.commonRegisterInfo[e]){this.modalTitle="信息缺失",this.modalContent="请填写完整信息",this.submitErrModal=!0,this.hasBlank=!0;break}this.hasBlank||(this.newUserRegister(),this.modalTitle="注册成功",this.modalContent="返回继续进行任务填写",this.submitErrModal=!0,getApp().globalData.stuRegister=!0,console.log(this.commonRegisterInfo,this.studentRegisterInfo))},sendValCode:function(e){console.log("发送手机验证码的请求")},hideSubmitErrModal:function(e){this.submitErrModal=!1},ViewImage:function(o){e.previewImage({urls:this.commonRegisterInfo.imgList,current:o.currentTarget.dataset.url})},DelImg:function(o){var t=this;e.showModal({title:"删除",cancelText:"否",confirmText:"是",success:function(e){e.confirm&&t.commonRegisterInfo.imgList.splice(o.currentTarget.dataset.index,1)}})},ChooseImage:function(){var o=this;e.chooseImage({count:4,sizeType:["original","compressed"],sourceType:["album"],success:function(e){0!=o.commonRegisterInfo.imgList.length?o.commonRegisterInfo.imgList=o.commonRegisterInfo.imgList.concat(e.tempFilePaths):o.commonRegisterInfo.imgList=e.tempFilePaths}})},selectEducation:function(e){console.log("学历",e),this.index_education=e.detail.value,this.studentRegisterInfo.education=this.educationPicker[this.index_education]},chooseAddress:function(e){console.log("选择地址。。。"),wx.chooseLocation({success:this.handleChooseAddressSucc.bind(this)})},handleChooseAddressSucc:function(e){console.log("地址",e),this.address=e.address,Object.assign(this.staticData,{latitude:e.latitude,longitude:e.longitude})},inputPositionDetail:function(e){this.addressDetail=e.detail.value,console.log("具体地点",this.addressDetail)},showSchoolPicker:function(){this.$refs.schoolPicker.show()},onConfirm:function(e){console.log("选择的结果label",e.label);var o=e.label.split("-")[2];console.log("源数据:".concat(JSON.stringify(e))),"暂未收录"!==o&&(this.studentRegisterInfo.provinceSchool=e.label,this.studentRegisterInfo.schoolData=o,console.log("学校:".concat(o)))},commonInput:function(e){"userName"==e.currentTarget.id?(this.commonRegisterInfo.userName=e.detail.value,console.log("姓名",this.commonRegisterInfo.userName)):"phoneNumber"==e.currentTarget.id?(this.commonRegisterInfo.phoneNumber=e.detail.value,console.log("电话",this.commonRegisterInfo.phoneNumber)):"validateCode"==e.currentTarget.id?(this.commonRegisterInfo.validateCode=e.detail.value,console.log("验证码",this.commonRegisterInfo.validateCode)):"idCard"==e.currentTarget.id?(this.commonRegisterInfo.idCard=e.detail.value,console.log("身份证号",this.commonRegisterInfo.idCard)):"college"==e.currentTarget.id?(this.studentRegisterInfo.college=e.detail.value,console.log("学院",this.studentRegisterInfo.college)):"major"==e.currentTarget.id&&(this.studentRegisterInfo.major=e.detail.value,console.log("专业",this.studentRegisterInfo.major))}}});o.default=i}).call(this,t("543d")["default"])},9746:function(e,o,t){"use strict";var n={schoolPicker:()=>Promise.all([t.e("common/vendor"),t.e("components/schoolPicker/schoolPicker")]).then(t.bind(null,"3a5c"))},i=function(){var e=this,o=e.$createElement;e._self._c},s=[];t.d(o,"b",function(){return i}),t.d(o,"c",function(){return s}),t.d(o,"a",function(){return n})},dd41:function(e,o,t){"use strict";t.r(o);var n=t("9746"),i=t("63ba");for(var s in i)"default"!==s&&function(e){t.d(o,e,function(){return i[e]})}(s);t("0ff0");var c,r=t("f0c5"),a=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],c);o["default"]=a.exports}},[["611d","common/runtime","common/vendor"]]]);